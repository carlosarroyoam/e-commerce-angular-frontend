<div clickOutside (clickOutside)="onClickOutside()" class="relative">
  <button
    type="button"
    class="relative flex rounded-full text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-zinc-600"
    id="user-menu-button"
    aria-expanded="false"
    aria-haspopup="true"
    (click)="toggleIsOpen()"
  >
    <span class="sr-only">Open user menu</span>
    <img
      class="size-10 rounded-full"
      src="https://ui-avatars.com/api/?name={{ fullname }}&format=svg"
      alt="{{ user?.first_name }}'s profile picture"
    />
  </button>

  @if (isOpen) {
    <div
      class="absolute right-0 z-10 mt-2 origin-top-right overflow-hidden rounded-md bg-zinc-50 shadow-md"
      role="menu"
      aria-orientation="vertical"
      aria-labelledby="user-menu-button"
    >
      <div class="flex flex-col px-4 py-2">
        <p class="text-nowrap text-sm font-medium text-zinc-700">
          {{ fullname }}
        </p>
        <p class="text-nowrap text-sm">{{ user?.email }}</p>
      </div>

      <hr class="mx-2 h-px bg-zinc-300" />

      <a
        routerLink="/account"
        role="menuitem"
        class="block px-4 py-2 text-sm font-medium hover:bg-zinc-100"
      >
        Account settings
      </a>
      <button
        href="#"
        role="menuitem"
        (click)="logout()"
        class="block w-full px-4 py-2 text-left text-sm font-medium hover:bg-zinc-100"
      >
        Log out
      </button>
    </div>
  }
</div>
