<section>
  <div class="flex flex-col gap-4 md:flex-row">
    <div class="flex-auto">
      <h2 class="heading">Users</h2>
      <p class="mt-1 text-sm">
        A list of all the users registered including their name, email, and
        role.
      </p>
    </div>
  </div>

  <!-- <td class="table-data-cell flex gap-2">
    <button appButton variant="outline" size="icon">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="size-4"
      >
        <path d="m9 18 6-6-6-6"></path>
      </svg>
    </button>
    <button appButton variant="outline" size="icon">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="size-4"
      >
        <path d="m9 18 6-6-6-6"></path>
      </svg>
    </button>
  </td> -->

  <div class="mt-8">
    <input
      appInput
      type="text"
      name="search"
      placeholder="Filter users..."
      class="max-w-72"
    />
  </div>

  <div class="mt-4 overflow-auto rounded-md border shadow-sm">
    <table class="table w-full min-w-max divide-y divide-zinc-200">
      <thead class="bg-zinc-50">
        @for (headerGroup of table.getHeaderGroups(); track headerGroup.id) {
          <tr>
            @for (header of headerGroup.headers; track header.id) {
              @if (!header.isPlaceholder) {
                <th
                  scope="col"
                  class="px-4 py-2 text-start text-sm font-medium capitalize tracking-tight"
                >
                  <ng-container
                    *flexRender="
                      header.column.columnDef.header;
                      props: header.getContext();
                      let header
                    "
                  >
                    <div [innerHTML]="header"></div>
                  </ng-container>
                </th>
              }
            }
          </tr>
        }
      </thead>
      <tbody class="divide-y divide-zinc-200">
        @if (table.getRowCount() > 0) {
          @for (row of table.getRowModel().rows; track row.id) {
            <tr>
              @for (cell of row.getVisibleCells(); track cell.id) {
                <td class="px-4 py-2 text-sm">
                  <ng-container
                    *flexRender="
                      cell.column.columnDef.cell;
                      props: cell.getContext();
                      let cell
                    "
                  >
                    <div [innerHTML]="cell"></div>
                  </ng-container>
                </td>
              }
            </tr>
          }
        } @else {
          <tr>
            <td
              [attr.colspan]="table.getFlatHeaders().length"
              class="h-24 text-center"
            >
              No results.
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <div class="mx-2 mt-4 flex items-center">
    <div class="flex-1">
      @if (table.getRowCount() > 0) {
        <p class="text-sm">
          Showing {{ entries().from }} to {{ entries().to }} of
          {{ entries().totalEntries }} entries.
        </p>
      }
    </div>

    <div class="flex items-center gap-8">
      <div>
        <p class="text-sm">
          Page {{ page() }} of
          {{ pagination()?.totalPages }}
        </p>
      </div>

      <div class="flex items-center gap-2">
        <button
          appButton
          variant="outline"
          size="icon"
          (click)="firstPage()"
          [disabled]="!hasPreviousPage()"
        >
          <span class="sr-only">First page</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="size-4"
          >
            <path d="m9 18 6-6-6-6"></path>
          </svg>
        </button>
        <button
          appButton
          variant="outline"
          size="icon"
          (click)="previousPage()"
          [disabled]="!hasPreviousPage()"
        >
          <span class="sr-only">Previous page</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="size-4"
          >
            <path d="m9 18 6-6-6-6"></path>
          </svg>
        </button>
        <button
          appButton
          variant="outline"
          size="icon"
          (click)="nextPage()"
          [disabled]="!hasNextPage()"
        >
          <span class="sr-only">Next page</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="size-4"
          >
            <path d="m9 18 6-6-6-6"></path>
          </svg>
        </button>
        <button
          appButton
          variant="outline"
          size="icon"
          (click)="lastPage()"
          [disabled]="!hasNextPage()"
        >
          <span class="sr-only">Last page</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="size-4"
          >
            <path d="m9 18 6-6-6-6"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</section>
